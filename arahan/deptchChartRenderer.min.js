class DepthChartRender{constructor(t,i,e){this.canvas=t,this._resizeCanvasToDisplaySize(),this.side=e,this.ctx=t.getContext("2d"),this.ctx.fillStyle=i}_resizeCanvasToDisplaySize(){const t=this.canvas.clientWidth,i=this.canvas.clientHeight;return(this.canvas.width!==t||this.canvas.height!==i)&&(this.canvas.width=t,this.canvas.height=i,!0)}render(t){this.ctx.clearRect(0,0,canvas.width,canvas.height),"ASK"===this.side?this._renderAsk(t):"BID"===this.side&&this._renderBid(t)}_getPosValue(t,i){return t/i}_renderAsk(t){const i=t.length-1,e=this.canvas.clientWidth-10,s=t[i].amount/e,h=this.canvas.clientHeight/(t.length+1),n=this.canvas.clientHeight;let c=e,a=0;this.ctx.moveTo(c,0);for(let e=i;e>=0;e--){let i=0==e;a+=h,this.ctx.lineTo(c,a),c=i?0:this._getPosValue(t[e-1].amount,s),this.ctx.lineTo(c,a)}this.ctx.lineTo(0,n),this.ctx.lineTo(0,0),this.ctx.fill()}_renderBid(t){const i=t.length-1,e=this.canvas.clientWidth-10,s=t[0].amount/e,h=this.canvas.clientHeight/(t.length+1),n=this.canvas.clientHeight;let c=0,a=0;this.ctx.moveTo(c,a);for(let e=i;e>=0;e--){let i=0==e;c=this._getPosValue(t[e].amount,s),this.ctx.lineTo(c,a),a=i?n:a+h,this.ctx.lineTo(c,a)}this.ctx.lineTo(c,n),this.ctx.lineTo(0,n),this.ctx.lineTo(0,0),this.ctx.fill()}}